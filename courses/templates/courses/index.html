## mako
<%!
from django.utils.translation import ugettext as _
from django.core.urlresolvers import reverse
%>

<%namespace name='static' file='../static_content.html'/>

<%block name="bodyclass">view-course-list</%block>
<%block name="title"><title>${_("Courses")}</title></%block>

<%inherit file="../main.html" />

<%block name="headextra">

<style>

.courses-list-filter {
    text-align: right;
    margin: 0 auto 0 auto;
}

.courses-list-filter ul {
    display: block;
    float: right;
    list-style: none;
}
.courses-list-filter li {
    margin-left: 20px;
    float: left;
}

.courses {
    padding-top: 0 !important;
    margin-top: 0 !important;
}
.courses .no-result {
    width: 100%;
    text-align: center;
    margin: 80px auto 80px auto;
    font-size: 18px;
}
.courses .no-result a {
    line-height: 30px;
    font-size: 13px;
    color: #3a76bb;
    font-weight: bold;
}

/* form */
.fun-courses-filter-button {
    text-transform: none !important;
    padding: 8px !important;
    font: none !important;
    font-size: 0.8em !important;
    line-height: 1em !important;
    margin-top: -4px;
    background-image: none !important;
    box-shadow: none !important;
    text-shadow: none !important;
    border: none !important;
    border-radius: 3px !important;
}

.courses-listing-item .start-date-label {
}
.courses-listing-item .start-date-date {
    font-weight: bold;
}

/* Pagination bar */
div.pagination {
    width: 100%;
    border: 1px solid #aaa;
    text-align: center;
}

div.pagination span.step {
}
div.pagination span.previous {
    float: left;
    width: 200px;
    min-height: 5px;
}
div.pagination span.next {
    float: right;
    width: 200px;
    min-height: 5px;

}
div.pagination span.previous a, span.next a {
    color: #555;
}
div.pagination span.current {
    margin: 0 auto;
    width: 200px;
    display: inline-block;
    color: #777;
}

</style>
</%block>


<section class="find-courses">
    <section class="courses-container">

        <section class="courses">
            <section class="courses-list-filter">
                <form action="." method="GET">
                    <ul>
                        ${form.as_ul()}
                        <li><input type="submit" value="${_('Filter')}" class="fun-courses-filter-button"></li>
                    </ul>
                </form>
            </section>

            <div style="clear: both"></div>
            % if courses:
                <%include file="listing.html"/>
            % else:
                <div class="no-result">
                    ${_("No result found.")}<br>
                    <a href="${reverse('fun-courses-index')}">${_("View all courses")}</a>
                </div>
            % endif
        </section>

        <div class="pagination">
            <%
                params = ''
                if request.GET.get('by'):
                    params += '&by=' + request.GET['by']
                if request.GET.get('university'):
                    params += '&university=' + request.GET['university']
                if request.GET.get('state'):
                    params += '&state=' + request.GET['state']
            %>
            <span class="step previous">
                % if courses.has_previous():
                <a href="?page=${ courses.previous_page_number() }${ params }">${_("Previous page")}</a>
                % endif
            </span>
            <span class="step next">
                % if courses.has_next():
                <a href="?page=${ courses.next_page_number() }${ params }">${_("Next page")}</a>
                % endif
            </span>
            <span class="step current">
                ${ courses.paginator.count } ${_("courses")} - ${_("Page %d of %d") % (courses.number, courses.paginator.num_pages)}
            </span>
        </div>
    </section>
</section>
